{"version":3,"sources":["webpack:///./node_modules/core-js/modules/web.timers.js","webpack:///./src/views/Reg.vue?6e77","webpack:///./src/views/Login.vue?ec0c","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?5da6","webpack:///./src/views/Login.vue","webpack:///./src/views/Reg.vue?bf18","webpack:///src/views/Reg.vue","webpack:///./src/views/Reg.vue?ada1","webpack:///./src/views/Reg.vue","webpack:///./src/views/Login.vue?76f5"],"names":["$","global","userAgent","slice","MSIE","test","wrap","scheduler","handler","timeout","boundArgs","arguments","length","args","call","undefined","Function","apply","this","bind","forced","setTimeout","setInterval","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","nativeOn","$event","preventDefault","login","model","value","callback","$$v","$set","expression","_v","on","$router","push","staticRenderFns","data","methods","component","ref","ruleForm","rules","get_sms","submitForm"],"mappings":"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","file":"js/about.295114f9.js","sourcesContent":["var $ = require('../internals/export');\nvar global = require('../internals/global');\nvar userAgent = require('../internals/user-agent');\n\nvar slice = [].slice;\nvar MSIE = /MSIE .\\./.test(userAgent); // <- dirty ie9- check\n\nvar wrap = function (scheduler) {\n  return function (handler, timeout /* , ...arguments */) {\n    var boundArgs = arguments.length > 2;\n    var args = boundArgs ? slice.call(arguments, 2) : undefined;\n    return scheduler(boundArgs ? function () {\n      // eslint-disable-next-line no-new-func\n      (typeof handler == 'function' ? handler : Function(handler)).apply(this, args);\n    } : handler, timeout);\n  };\n};\n\n// ie9- setTimeout & setInterval additional parameters fix\n// https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#timers\n$({ global: true, bind: true, forced: MSIE }, {\n  // `setTimeout` method\n  // https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-settimeout\n  setTimeout: wrap(global.setTimeout),\n  // `setInterval` method\n  // https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-setinterval\n  setInterval: wrap(global.setInterval)\n});\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Reg.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Reg.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login-container\"},[_c('el-card',{staticClass:\"login-card\",attrs:{\"header\":\"请先登录\"}},[_c('el-form',{attrs:{\"label-width\":\"auto\"},nativeOn:{\"submit\":function($event){$event.preventDefault();return _vm.login($event)}}},[_c('el-form-item',{attrs:{\"label\":\"用户名\"}},[_c('el-input',{model:{value:(_vm.model.username),callback:function ($$v) {_vm.$set(_vm.model, \"username\", $$v)},expression:\"model.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"密码\"}},[_c('el-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.model.password),callback:function ($$v) {_vm.$set(_vm.model, \"password\", $$v)},expression:\"model.password\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"native-type\":\"submit\"}},[_vm._v(\"登录\")]),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.$router.push(\"/reg\")}}},[_vm._v(\"没有帐号,去注册\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"login-container\">\r\n    <el-card header=\"请先登录\" class=\"login-card\">\r\n      <el-form @submit.native.prevent=\"login\"  label-width='auto'>\r\n        <el-form-item label=\"用户名\">\r\n          <el-input v-model=\"model.username\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"密码\">\r\n          <el-input type=\"password\" v-model=\"model.password\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" native-type=\"submit\">登录</el-button>\r\n          <el-button type=\"text\" @click=\"$router.push(`/reg`)\">没有帐号,去注册</el-button>\r\n        </el-form-item>\r\n        \r\n      </el-form>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n\r\n  data(){\r\n    return {\r\n      model: {}\r\n    }\r\n  },\r\n  methods: {\r\n    async login(){\r\n      if(!(this.model.username && this.model.password)){\r\n        this.$message({type:'error',message:'用户名及密码 不能为空！'})\r\n        return false\r\n      }\r\n      if(!/^[a-z][0-9a-z_]{5,14}$/.test(this.model.username)){\r\n        this.$message({type:'error',message:'用户名为：字母开头,6-15位字母及数字_'})\r\n        return false\r\n      }\r\n\r\n      const res = await this.$http.post('/admin/call/login', this.model)\r\n      // sessionStorage.token = res.data.token\r\n      localStorage.token = res.data.token\r\n      this.$router.push('/')\r\n      this.$message({\r\n        type: 'success',\r\n        message: '登录成功'\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.login-card{\r\n  width: 25rem;\r\n  margin: 0 auto;\r\n}\r\n.login-container{\r\n  background-image: url('../assets/cp_bg.jpg');\r\n  background-repeat:no-repeat;\r\n  background-position:center;\r\n  background-color:burlywood;\r\n  widows: 100vh;\r\n  height: 100vh;\r\n  padding-top:5rem\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=2d7b0fbb&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"reg-container\"},[_c('el-card',{staticClass:\"reg-card\",attrs:{\"header\":\"注册页面\"}},[_c('el-form',{ref:\"ruleForm\",attrs:{\"model\":_vm.ruleForm,\"status-icon\":\"\",\"rules\":_vm.rules,\"label-width\":\"auto\",\"size\":\"small\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"username\"}},[_c('el-input',{model:{value:(_vm.ruleForm.username),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"username\", $$v)},expression:\"ruleForm.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"autocomplete\":\"off\"},model:{value:(_vm.ruleForm.password),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"password\", $$v)},expression:\"ruleForm.password\"}})],1),_c('el-form-item',{attrs:{\"label\":\"确认密码\",\"prop\":\"checkPass\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"autocomplete\":\"off\"},model:{value:(_vm.ruleForm.checkPass),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"checkPass\", $$v)},expression:\"ruleForm.checkPass\"}})],1),_c('el-form-item',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.ruleForm.email),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"email\", $$v)},expression:\"ruleForm.email\"}})],1),_c('el-form-item',{attrs:{\"label\":\"手机\",\"prop\":\"phone_num\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.ruleForm.phone_num),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"phone_num\", $$v)},expression:\"ruleForm.phone_num\"}})],1),_c('el-form-item',{attrs:{\"label\":\"短信验证码\",\"prop\":\"sms_num\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.ruleForm.sms_num),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"sms_num\", $$v)},expression:\"ruleForm.sms_num\"}}),_c('el-button',{attrs:{\"type\":\"info\",\"size\":\"mini\"},on:{\"click\":_vm.get_sms}},[_vm._v(\"获取短信验证码\")])],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":function($event){return _vm.submitForm('ruleForm')}}},[_vm._v(\"注册\")]),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.$router.push(\"/login\")}}},[_vm._v(\"已有帐号,去登陆\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"reg-container\">\r\n    <el-card header=\"注册页面\" class=\"reg-card\">\r\n      <el-form :model=\"ruleForm\" status-icon :rules=\"rules\" ref=\"ruleForm\"   label-width='auto' size=\"small\">  \r\n        <el-form-item label=\"用户名\" prop=\"username\">\r\n          <el-input v-model=\"ruleForm.username\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"密码\" prop=\"password\">\r\n          <el-input type=\"password\" v-model=\"ruleForm.password\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"确认密码\" prop=\"checkPass\">\r\n          <el-input type=\"password\" v-model=\"ruleForm.checkPass\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"邮箱\" prop=\"email\">\r\n          <el-input v-model=\"ruleForm.email\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"手机\" prop=\"phone_num\">\r\n          <el-input v-model=\"ruleForm.phone_num\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"短信验证码\" prop=\"sms_num\">\r\n          <el-input v-model=\"ruleForm.sms_num\" autocomplete=\"off\"></el-input>\r\n          <el-button type=\"info\" @click=\"get_sms\" size=\"mini\">获取短信验证码</el-button>\r\n        </el-form-item>\r\n        \r\n        <el-form-item>\r\n          <el-button type=\"danger\"  @click=\"submitForm('ruleForm')\">注册</el-button>\r\n          <el-button type=\"text\" @click=\"$router.push(`/login`)\">已有帐号,去登陆</el-button>\r\n        </el-form-item>\r\n        \r\n      </el-form>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  // @submit.native.prevent=\"reg\"   原生按钮提交 Form上\r\n      data() {\r\n       let validateusername = (rule, value, callback) => {\r\n        if (!value) {\r\n          return callback(new Error('用户名不能为空'));\r\n        }\r\n        setTimeout(() => {\r\n          if (/^[a-z][0-9a-z_]{5,14}$/.test(value)) {\r\n           callback();\r\n          } else {\r\n              callback(new Error('字母开头,6-15位数字及小写字母'));\r\n          }\r\n        }, 600);\r\n      }; \r\n      let validatePass = (rule, value, callback) => {\r\n        if (!value) {\r\n          callback(new Error('请输入密码'));\r\n        } else {\r\n          if (this.ruleForm.checkPass !== '') {\r\n            this.$refs.ruleForm.validateField('checkPass');\r\n          }\r\n          callback();\r\n        }\r\n      };\r\n      let validateEmail=(rule,value,callback)=>{\r\n        if(!value){\r\n          callback(new Error('请输入邮箱'))\r\n        }else if(!/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\\.[a-zA-Z0-9_-]+)+$/.test(value)){\r\n          callback(new Error('邮箱格式不正确'))\r\n        }\r\n        callback()\r\n      }\r\n      let validatePhone_num=(rule,value,callback)=>{\r\n        if(!value){\r\n          callback(new Error('请输入手机号'))\r\n        }\r\n        if(!/^1\\d{10,10}$/.test(value)){\r\n          callback(new Error('手机号格式错误'))\r\n        }\r\n        callback()\r\n      }\r\n      let validatorSms_num=(rule,value,callback)=>{\r\n        if(!value){\r\n          callback(new Error('请输入短信验证码'))\r\n        }\r\n        if(!/^\\d{4}$/.test(value)){\r\n          callback(new Error('验证码为4位数字'))\r\n        }\r\n        callback()\r\n      }\r\n      let validatePass2 = (rule, value, callback) => {\r\n        if (value === '') {\r\n          callback(new Error('请再次输入密码'));\r\n        } else if (value !== this.ruleForm.password) {\r\n          callback(new Error('两次输入密码不一致!'));\r\n        } else {\r\n          callback();\r\n        }\r\n      };\r\n      return {\r\n        \r\n        ruleForm: {\r\n         // password: '',\r\n         // checkPass: '',\r\n         // username: ''\r\n        },\r\n        rules: {\r\n          password: [\r\n            { validator: validatePass, trigger: 'blur' }\r\n          ],\r\n          checkPass: [\r\n            { validator: validatePass2, trigger: 'blur' }\r\n          ],\r\n           username: [\r\n            { validator: validateusername, trigger: 'blur' }\r\n          ] ,\r\n          email:[{validator:validateEmail,trigger:'blur'}],\r\n          phone_num:[{validator:validatePhone_num,trigger:'blur'}],\r\n          sms_num:[{validator:validatorSms_num,trigger:'blur'}]\r\n        }\r\n      };\r\n    },\r\n    methods: {\r\n      async reg(){\r\n        const res = await this.$http.post('admin/api/reg', this.model)\r\n        // sessionStorage.token = res.data.token\r\n        localStorage.token = res.data.token\r\n        this.$router.push('/')\r\n        this.$message({\r\n          type: 'success',\r\n          message: '登录成功'\r\n        })\r\n    },\r\n    async get_sms(){  //申请短信验证码\r\n      if(/^\\d{11}$/.test(this.ruleForm.phone_num)){\r\n        const r = await this.$http.post('/admin/call/get_sms',{phone_num:this.ruleForm.phone_num})\r\n        console.log(r.data)\r\n        if(r.data&&(r.data.Message==='OK')){\r\n          this.$message({type:'success',message:'验证码发送成功，请查看并输入'})\r\n        }else{\r\n          this.$message({type:'error',message:'验证码获取失败:'+r.data.Message})\r\n        }\r\n      }else{\r\n         this.$message({type:'error',message:'请输入11位手机号码'})\r\n      }\r\n    },\r\n       submitForm(formName) {\r\n        this.$refs[formName].validate(async (valid) => {\r\n          if (valid) {\r\n            console.log(this.ruleForm)\r\n            //return false\r\n            const res = await this.$http.post('/admin/call/reg',this.ruleForm)\r\n            //console.log(res.data)\r\n            if(res.data.message==='ok'){\r\n                this.$message({message:'注册成功',type:'success'})\r\n                this.$router.push('/login')\r\n            }else{\r\n                this.$message({message:'注册失败',type:'error'})\r\n            }\r\n          } else {\r\n            //console.log('error submit!!');\r\n            return false;\r\n          }\r\n        });\r\n      },\r\n      resetForm(formName) {\r\n        this.$refs[formName].resetFields();\r\n      }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n.reg-card{\r\n  width: 25rem;\r\n  margin: 0 auto;\r\n}\r\n.reg-container{\r\n  background-image: url('../assets/cp_bg1.jpg');\r\n  background-repeat:no-repeat;\r\n  background-position:center;\r\n  background-color: bisque;\r\n  widows: 100vh;\r\n  height: 100vh;\r\n  padding-top:5rem\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Reg.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Reg.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Reg.vue?vue&type=template&id=287b63fc&\"\nimport script from \"./Reg.vue?vue&type=script&lang=js&\"\nexport * from \"./Reg.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Reg.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}