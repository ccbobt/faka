(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4d84e9b8"],{"6e7c":function(e,t,s){"use strict";var a=s("767e"),r=s.n(a);r.a},"767e":function(e,t,s){},b0c0:function(e,t,s){var a=s("83ab"),r=s("9bf2").f,n=Function.prototype,i=n.toString,o=/^\s*function ([^ (]*)/,c="name";!a||c in n||r(n,c,{configurable:!0,get:function(){try{return i.call(this).match(o)[1]}catch(e){return""}}})},c295:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"midpage",staticStyle:{"background-color":"rgb(238,241,246)",padding:"20px"}},[s("div",{staticClass:"mid_3"},[s("div",[s("el-card",{staticClass:"box-card",staticStyle:{width:"95%"}},[s("div",{attrs:{slot:"header"},slot:"header"},[s("h1",[e._v("商品分类设置")])]),s("div",{staticClass:"settype_1"},[s("div",[s("el-alert",{attrs:{type:"warning"}},[e._v("删除分类前,须先把分类下面的商品全部删除!")]),s("el-form",[s("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px"}},[s("el-form-item",{attrs:{label:"分类名称"}},[s("el-input",{attrs:{placeholder:"4-10个字符",size:"mini"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),s("el-form-item",{attrs:{label:"分类排序"}},[s("el-input",{attrs:{placeholder:"数字小的排前面",size:"mini"},model:{value:e.form.sort,callback:function(t){e.$set(e.form,"sort",e._n(t))},expression:"form.sort"}})],1),s("el-form-item",{attrs:{label:"是否激活"}},[s("el-radio-group",{attrs:{size:"mini"},model:{value:e.form.active,callback:function(t){e.$set(e.form,"active",t)},expression:"form.active"}},[s("el-radio-button",{attrs:{label:"1"}},[e._v("激活")]),s("el-radio-button",{attrs:{label:"0"}},[e._v("不激活")])],1)],1),s("el-form-item",[s("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.onSubmit}},[e._v("立即创建")]),s("el-button",{attrs:{size:"mini"}},[e._v("取消")])],1)],1)],1)],1),s("div",{staticClass:"settype_2"},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.types}},[s("el-table-column",{attrs:{prop:"name",label:"分类名称",width:"180"}}),s("el-table-column",{attrs:{prop:"sort",label:"排序",width:"50"}}),s("el-table-column",{attrs:{prop:"active",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.active?s("el-tag",{attrs:{size:"mini",type:"success"}},[e._v("激活")]):0===t.row.active?s("el-tag",{attrs:{size:"mini",type:"info"}},[e._v("未激活")]):e._e()]}}])}),s("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(s){return e.handleEdit(t.row)}}},[e._v("激活切换")]),s("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(s){return e.handleDel(t.row)}}},[e._v("删除")])]}}])})],1)],1)])])],1)])])},r=[],n=(s("b0c0"),s("d3b7"),s("96cf"),{data:function(){return{types:[],form:{name:"",active:1,sort:20}}},created:function(){return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:this.fetch();case 1:case"end":return e.stop()}}),null,this)},methods:{fetch:function(){var e;return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(this.$http.post("/goods/api/get_types"));case 2:e=t.sent,this.types=e.data.data;case 4:case"end":return t.stop()}}),null,this)},onSubmit:function(){var e;return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:if(!(this.form.name.length<4||this.form.name.length>10)){t.next=3;break}return this.$message({type:"error",message:"名称请控制在4-10字符"}),t.abrupt("return");case 3:return t.next=5,regeneratorRuntime.awrap(this.$http.post("/goods/api/set_types",this.form));case 5:e=t.sent,1===e.data.code&&this.$message({type:"success",message:"增加成功"}),this.fetch();case 8:case"end":return t.stop()}}),null,this)},handleEdit:function(e){var t;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,regeneratorRuntime.awrap(this.$http.post("/goods/api/active_types",e));case 2:t=s.sent,1===t.data.code?this.$message({type:"success",message:"状态切换成功"}):this.$message({type:"error",message:t.data.error}),this.fetch();case 5:case"end":return s.stop()}}),null,this)},handleDel:function(e){var t;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,regeneratorRuntime.awrap(this.$http.post("/goods/api/del_types",e));case 2:t=s.sent,1===t.data.code?this.$message({type:"success",message:"删除成功"}):this.$message({type:"error",message:t.data.error}),this.fetch();case 5:case"end":return s.stop()}}),null,this)}}}),i=n,o=(s("6e7c"),s("2877")),c=Object(o["a"])(i,a,r,!1,null,null,null);t["default"]=c.exports}}]);